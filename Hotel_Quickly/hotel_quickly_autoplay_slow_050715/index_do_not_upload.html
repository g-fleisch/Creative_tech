    <div id="wrappingdiv">
        <!--<link href="assets/pre-view-style.css" rel="stylesheet" type="text/css" >-->
        <link href="style.css" rel="stylesheet" type="text/css" >
        <link href="main.css" media="all" rel="stylesheet" type="text/css">

        <!-- ------------------------------- THE PRE-VIEW OVERLAY ---------------------------------------- -->
        <div id="pxr4YkFPF-an-anim"><ol>

        <li id="pxr4YkFPF-an-scene-0" >
        <div class="pxr4YkFPF-an-stage">
        <div id="pxr4YkFPF-an-obj-1"></div>
        <div id="pxr4YkFPF-an-obj-2" class="an-symbol-g07wVV0T an-symbol-container-np1tpw an-symbol-container">
        <div id="pxr4YkFPF-an-obj-3" class="an-symbol-TgEo0O5g"></div>
        <div id="pxr4YkFPF-an-obj-4" class="an-symbol-jMB8s0Z9">
        <div id="pxr4YkFPF-an-obj-5" class="an-symbol-FSPU4O0m"></div>
        <div id="pxr4YkFPF-an-obj-6" class="an-symbol-pIhsZG92"></div>
        <div id="pxr4YkFPF-an-obj-7" class="overlay-cta-container-ios an-symbol-n6pL01Yy"><span>Tap Anywhere to Get</span></div>
        <div id="pxr4YkFPF-an-obj-8" class="an-symbol-M8MOqPdk an-symbol-container-XVcCYy an-symbol-container">
        <div id="pxr4YkFPF-an-obj-9" class="an-symbol-RIe8fSGM">
        <div id="pxr4YkFPF-an-obj-10" class="an-symbol-xjLQZdWX"><span>Book!</span></div>
        <div id="pxr4YkFPF-an-obj-11" class="an-symbol-ANsfBvcl"><span>Get Set!</span></div>
        <div id="pxr4YkFPF-an-obj-12" class="an-symbol-km1Gfh1r"><span>Get Ready!</span></div>
        </div>
        </div>
        <div id="pxr4YkFPF-an-obj-13" class="an-symbol-dnRBh0Ne">
        <div id="pxr4YkFPF-an-obj-14" class="overlay-text-container an-symbol-4Yxes3RC"><span>Last-minute hotel booking
                 at amazing prices.</span></div>
        <div id="pxr4YkFPF-an-obj-15" class="hidden-outro-message an-symbol-lNwOr72H"><span>Thank you for playing.</span></div>
        </div>
        <div id="pxr4YkFPF-an-obj-16" class="an-symbol-2yiSxtNy">
        <div id="pxr4YkFPF-an-obj-17" class="iphonestarcontainer an-symbol-rYjdnfLJ">
        <div id="pxr4YkFPF-an-obj-18" class="an-symbol-RL4MghSV"><div><img  height="15" width="88"  src="assets/4_Stars_iPhone_88x15.png"></div></div>
        </div>
        </div>
        <div id="pxr4YkFPF-an-obj-19" class="an-symbol-ylJdxogX"><span>HotelQuickly</span></div>
        <div id="pxr4YkFPF-an-obj-20" class="an-symbol-L5Nt7xC6"></div>
        </div>
        <div id="pxr4YkFPF-an-obj-21" class="overlay-tap-area an-symbol-FjmAlcV0"></div>
        <div id="pxr4YkFPF-an-obj-22" class="destination-url an-symbol-2FjxTZwT"></div>
        <div id="pxr4YkFPF-an-obj-23" class="destination-url an-symbol-pUHvx8Br">
        <div id="pxr4YkFPF-an-obj-24" class="an-symbol-CVVZYZWR">
        <div id="pxr4YkFPF-an-obj-25" class="an-symbol-yjObf9gj"></div>
        <div id="pxr4YkFPF-an-obj-26" class="an-symbol-AU5hCogU">
        <div id="pxr4YkFPF-an-obj-27" class="an-symbol-cpKOn0YW"><span>GET
        </span></div>
        </div>
        </div>
        </div>
        </div>
        </div>
        </li>

        </ol></div>

        <!--
        <div id="pre-view-an-anim"><ol>
        <li id="pre-view-an-scene-0" >
        <div class="pre-view-an-stage">
        <div id="pre-view-an-obj-1" class="an-symbol-6Sg6WOtG an-symbol-container-6UaFsn an-symbol-container">
        <div id="pre-view-an-obj-2" class="an-symbol-TgEo0O5g"></div>
        <div id="pre-view-an-obj-3" class="an-symbol-jMB8s0Z9">
        <div id="pre-view-an-obj-4" class="an-symbol-FSPU4O0m"></div>
        <div id="pre-view-an-obj-5" class="an-symbol-n6pL01Yy"><span>Tap Anywhere to Continue!</span></div>
        <div id="pre-view-an-obj-6" class="an-symbol-dnRBh0Ne">
        <div id="pre-view-an-obj-7" class="an-symbol-6A4xRizc"><span>Last-minute hotel booking
         at amazing prices.</span></div>
        </div>
        <div id="pre-view-an-obj-8" class="an-symbol-2yiSxtNy">
        <div id="pre-view-an-obj-9" class="an-symbol-YmwTgDvv"><div><img  height="36" width="135"  src="assets/4star.png"></div></div>
        </div>
        <div id="pre-view-an-obj-10" class="an-symbol-ylJdxogX"><span>HotelQuickly</span></div>
        <div id="pre-view-an-obj-11" class="an-symbol-woUzj7fC"></div>
        <div id="pre-view-an-obj-12" class="an-symbol-L5Nt7xC6"></div>
        </div>
        <div id="pre-view-an-obj-13" class="an-symbol-e3it6sRl"></div>
        </div>
        </div>
        </li>
        </ol></div>
    -->
        <!-- ------------------------------ THE PRE-VIEW OVERLAY ---------------------------------------- -->

        <div id="skipdemoheader">
            <!--
            <div id="pxr4YkFPF-an-obj-18" class="destination-url an-symbol-pUHvx8Br">
                <div id="pxr4YkFPF-an-obj-19" class="an-symbol-CVVZYZWR">
                    <div id="pxr4YkFPF-an-obj-20" class="an-symbol-MglDJAfo">
                        <div></div>
                    </div>
                    <div id="pxr4YkFPF-an-obj-21" class="an-symbol-AU5hCogU">
                        <div id="pxr4YkFPF-an-obj-22" class="an-symbol-cpKOn0YW">
                            <span>GET</span>
                        </div>
                    </div>
                </div>
            </div>
            -->
        <!--
            <div id="skipdemoheaderinside" class="destination-url">
                Skip the Demo to Download
            </div>
        -->
            <a class="destination-url" style="text-decoration: none;" href="http://ad-x.co.uk/API/click/htlqui080713SC/am554fd36aee31a0/NET/{clickid}/MNectar?idfa={ios_ifa}&subid={publisher_id}&subid2={ad_unit_id}">
            <div id="skipdemoheaderinside" class="destination-url">
                <div id="pxr4YkFPF-an-obj-24" class="an-symbol-CVVZYZWR">
                    <div id="pxr4YkFPF-an-obj-25" class="an-symbol-yjObf9gj">
                    </div>
                    <div id="pxr4YkFPF-an-obj-26" class="an-symbol-AU5hCogU">
                        <div id="pxr4YkFPF-an-obj-27" class="an-symbol-cpKOn0YW">
                            <span>GET</span>
                        </div>
                    </div> 
                </div>
            </div>
            </a>
        </div>
        <div class="detailfooterdownload">
            <span class="detailfooterbutton destination-url">
                DOWNLOAD & BOOK HOTEL
            </span>
        </div>
        <div id="skrollr-body">
            <div class="mn-game-holder"></div>
            <div id="fadebox"></div>
            <div id="containerdiv" data-980="opacity: 1;" style="height:705px;">
                <div class="locationlistitem">
                    <div id="location1" class="locationlistitembackground"></div>
                    <div class="hidingelements">
                        <div class="listheader">
                            <div class="percentoff" >
                                <span class="percentoffinsides">
                                    -29%
                                </span>
                            </div>
                            <div>
                                <img class="staricon" />
                                <img class="staricon" />
                                <img class="staricon" />
                                <img class="staricon" />
                                <img class="staricon" />
                            </div>
                        </div>
                        <div class="listfooter">
                            <p>8.5 / 10</p>
                        </div>
                    </div>
                    <div class="listmiddlecontent" id="location1click">
                        <p>ADNIA APARTMENTS</p>
                    </div>
                </div>

                <div class="locationlistitem">
                    <div id="location2" class="locationlistitembackground"></div>
                    <div class="hidingelements">
                        <div class="listheader">
                            <div class="percentoff" >
                                <span class="percentoffinsides">
                                    -14%
                                </span>
                            </div>
                            <div>
                                <img class="staricon" />
                                <img class="staricon" />
                                <img class="staricon" />
                                <img class="staricon" />
                                <img class="staricon" />
                            </div>
                        </div>
                        <div class="listfooter">
                            <p>8.9 / 10</p>
                        </div>
                    </div>
                    <div class="listmiddlecontent" id="location2click">
                        <p>BLUE SYDNEY</p>
                    </div>
                </div>

                <div class="locationlistitem">
                    <div id="location3" class="locationlistitembackground"></div>
                    <div class="hidingelements">
                        <div class="listheader">
                            <div class="percentoff" >
                                <span class="percentoffinsides">
                                    -23%
                                </span>
                            </div>
                            <div>
                                <img class="staricon" />
                                <img class="staricon" />
                                <img class="staricon" />
                                <img class="staricon" />
                            </div>
                        </div>
                        <div class="listfooter">
                            <p>8.8 / 10</p>
                        </div>
                    </div>
                    <div class="listmiddlecontent" id="location3click">
                        <p>OAKS-GOLDBROUGH</p>
                    </div>
                </div>

                <div class="locationlistitem">
                    <div id="location4" class="locationlistitembackground"></div>
                    <div class="hidingelements">
                        <div class="listheader">
                            <div class="percentoff" >
                                <span class="percentoffinsides">
                                    -19%
                                </span>
                            </div>
                            <div>
                                <img class="staricon" />
                                <img class="staricon" />
                                <img class="staricon" />
                                <img class="staricon" />
                                <img class="staricon" />
                            </div>
                        </div>
                        <div class="listfooter">
                            <p>8.1 / 10</p>
                        </div>
                    </div>
                    <div class="listmiddlecontent" id="location4click">
                        <p>RYDGES WORLD SQUARE</p>
                    </div>
                </div>
                <img class="bottomlogo" src="assets/hotelquickly_bannerLogo.png" />
            </div>





            <div id="location1div" class="detaildiv">
                <div id="detailbackgroundlocation1" class="detailbackground"></div>
                <div class="detailgobackbutton">
                    <img class="backarrow"/>
                </div>
                <div class="detailcontent">
                    <div style="margin-bottom:40px;">
                        <div class="detailcenterimage" >
                            <div class="detailcenterimageinsides">
                                -29%
                            </div>
                        </div>
                    </div>
                    </br>
                        <div>
                            <img class="staricon" />
                            <img class="staricon" />
                            <img class="staricon" />
                            <img class="staricon" />
                        </div>
                        <p>
                            ADNIA APARTMENTS
                        </p>
                        <p class="detailcitycountry">
                        Sydney, Austrailia
                        </p>
                    </br>
                </div>
                <div class="detailbookbutton destination-url">
                    <span>
                        BOOK
                    </span>
                </div>
                <div class="detailhotelgallery" id="location1divhotelgallery">
                   <div class="detailhotelgalleryinner">
                      <img id="location1HotelImage1" />
                      <img id="location1HotelImage2" />
                      <img id="location1HotelImage3" />
                      <img id="location1HotelImage4" />
                      <img id="location1HotelImage5" />
                   </div>
                </div>
                <table class="amenitieslist">
                    <tr>
                        <td>
                            <img class="amenityimg" src="assets/amenities_swim.jpg" />
                        </td>
                        <td>
                            Swimming Pool
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <img class="amenityimg" src="assets/amenities_gym.jpg" />
                        </td>
                        <td>
                            Gym
                        </td>
                    </tr>
                </table>
            </div>

            <div id="location2div" class="detaildiv">
                <div id="detailbackgroundlocation2" class="detailbackground"></div>
                <div class="detailgobackbutton">
                    <img class="backarrow"/>
                </div>
                <div class="detailcontent">
                    <div style="margin-bottom:40px;">
                        <div class="detailcenterimage" >
                            <div class="detailcenterimageinsides">
                                -14%
                            </div>
                        </div>
                    </div>
                    </br>
                        <div>
                            <img class="staricon" />
                            <img class="staricon" />
                            <img class="staricon" />
                            <img class="staricon" />
                            <img class="staricon" />
                        </div>
                        <p>
                            BLUE SYDNEY
                        </p>
                        <p class="detailcitycountry">
                            Sydney, Austrailia
                        </p>
                    </br>
                </div>
                <div class="detailbookbutton destination-url">
                    <span>
                        BOOK
                    </span>
                </div>
                <div class="detailhotelgallery" id="location2divhotelgallery">
                   <div class="detailhotelgalleryinner">
                      <img id="location2HotelImage1" />
                      <img id="location2HotelImage2" />
                      <img id="location2HotelImage3" />
                      <img id="location2HotelImage4" />
                      <img id="location2HotelImage5" />
                   </div>
                </div>
                <table class="amenitieslist">
                    <tr>
                        <td>
                            <img class="amenityimg" src="assets/amenities_swim.jpg" />
                        </td>
                        <td>
                            Swimming Pool
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <img class="amenityimg" src="assets/amenities_gym.jpg" />
                        </td>
                        <td>
                            Gym
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <img class="amenityimg" src="assets/amenities_wifi.jpg" />
                        </td>
                        <td>
                            Free Wi-Fi
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <img class="amenityimg" src="assets/amenities_shuttle.jpg" />
                        </td>
                        <td>
                            Airport Shuttle
                        </td>
                    </tr>
                </table>
            </div>

            <div id="location3div" class="detaildiv">
                <div id="detailbackgroundlocation3" class="detailbackground"></div>
                <div class="detailgobackbutton">
                    <img class="backarrow"/>
                </div>
                <div class="detailcontent">
                    <div style="margin-bottom:40px;">
                        <div class="detailcenterimage" >
                            <div class="detailcenterimageinsides">
                                -23%
                            </div>
                        </div>
                    </div>
                    </br>
                        <div>
                            <img class="staricon" />
                            <img class="staricon" />
                            <img class="staricon" />
                            <img class="staricon" />
                            <img class="staricon" />
                        </div>
                        <p>
                            OAKS-GOLDBROUGH
                        </p>
                        <p class="detailcitycountry">
                            Sydney, Austrailia
                        </p>
                    </br>
                </div>
                <div class="detailbookbutton destination-url">
                    <span>
                        BOOK
                    </span>
                </div>
                <div class="detailhotelgallery" id="location3divhotelgallery">
                   <div class="detailhotelgalleryinner">
                      <img id="location3HotelImage1" />
                      <img id="location3HotelImage2" />
                      <img id="location3HotelImage3" />
                      <img id="location3HotelImage4" />
                      <img id="location3HotelImage5" />
                   </div>
                </div>
                <table class="amenitieslist">
                    <tr>
                        <td>
                            <img class="amenityimg" src="assets/amenities_swim.jpg" />
                        </td>
                        <td>
                            Swimming Pool
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <img class="amenityimg" src="assets/amenities_gym.jpg" />
                        </td>
                        <td>
                            Gym
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <img class="amenityimg" src="assets/amenities_wifi.jpg" />
                        </td>
                        <td>
                            Free Wi-Fi
                        </td>
                    </tr>
                </table>
            </div>

            <div id="location4div" class="detaildiv">
                <div id="detailbackgroundlocation4" class="detailbackground"></div>
                <div class="detailgobackbutton">
                    <img class="backarrow"/>
                </div>
                <div class="detailcontent">
                    <div style="margin-bottom:40px;">
                        <div class="detailcenterimage" >
                            <div class="detailcenterimageinsides">
                                -19%
                            </div>
                        </div>
                    </div>
                    </br>
                        <div>
                            <img class="staricon" />
                            <img class="staricon" />
                            <img class="staricon" />
                            <img class="staricon" />
                            <img class="staricon" />
                        </div>
                        <p>
                            RYDGES WORLD SQUARE
                        </p>
                        <p class="detailcitycountry">
                        Sydney, Austrailia
                        </p>
                    </br>
                </div>
                <div class="detailbookbutton destination-url">
                    <span>
                        BOOK
                    </span>
                </div>
                <div class="detailhotelgallery" id="location4divhotelgallery">
                   <div class="detailhotelgalleryinner">
                      <img id="location4HotelImage1" />
                      <img id="location4HotelImage2" />
                      <img id="location4HotelImage3" />
                      <img id="location4HotelImage4" />
                      <img id="location4HotelImage5" />
                   </div>
                </div>
                <table class="amenitieslist">
                    <tr>
                        <td>
                            <img class="amenityimg" src="assets/amenities_gym.jpg" />
                        </td>
                        <td>
                            Gym
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <img class="amenityimg" src="assets/amenities_wifi.jpg" />
                        </td>
                        <td>
                            Free Wi-Fi
                        </td>
                    </tr>
                </table>
            </div>
        </div>

            <script type="text/javascript" src="assets/skrollr.min.js"></script>
            <script type="text/javascript">

                var bodydefaultsizeheight = "480px";
                var bodydefaultsizewidth = "320px";

                var autoplayscrolldirection = 1;
                var autoplayscrolleddistance = 0;

                var detailscrollinggallery;
                var detailautoplayscrolldirection = 1;
                var detailautoplayscrolleddistance = 0;

                var autoplay, detailautoplay, stopper, goback, detailtargetbackground;

                var timer = 0;

                var dummyFix = "cssPrefix:''";

                function webviewDidAppearHelper() {
                  var thewrappingdiv = document.getElementById("wrappingdiv");
                  var xadjustmentamount = (thewrappingdiv.offsetLeft - thewrappingdiv.scrollLeft + thewrappingdiv.clientLeft);
                  var yadjustmentamount = (thewrappingdiv.offsetTop - thewrappingdiv.scrollTop + thewrappingdiv.clientTop);
                  var headerbannerheight = 35;
                  var collapsedimageheight = 75;

                  var top = headerbannerheight + yadjustmentamount;
                  var above = headerbannerheight + yadjustmentamount;
                  var below = headerbannerheight + collapsedimageheight + yadjustmentamount;

                  var hiddingelementscutoff = 55;

                  var theclientheight = document.documentElement.clientHeight;

                  document.getElementById("containerdiv").style.height = ""+(theclientheight + 225)+"px";

                  //add all of the skrollr data attributes relative to screen/viewport position.
                  var locationlistitems = document.getElementsByClassName("locationlistitem");
                  for (var i = 0; i < locationlistitems.length; ++i) {
                    locationlistitems[i].setAttribute("data-"+top+"-top", "height:200px");
                    locationlistitems[i].setAttribute("data-"+above+"-top-bottom", "height:75px");
                    locationlistitems[i].setAttribute("data-"+below+"-top", "height:75px");
                  }
                  var locationlistitembackgrounds = document.getElementsByClassName("locationlistitembackground");
                  for (var i = 0; i < locationlistitembackgrounds.length; ++i) {
                    locationlistitembackgrounds[i].setAttribute("data-"+top+"-top", "opacity: 0.7");
                    locationlistitembackgrounds[i].setAttribute("data-"+above+"-top-bottom", "opacity: 0.4");
                    locationlistitembackgrounds[i].setAttribute("data-"+below+"-top", "opacity: 0.4");
                  }
                  var hidingelements = document.getElementsByClassName("hidingelements");
                  for (var i = 0; i < hidingelements.length; ++i) {
                    hidingelements[i].setAttribute("data-"+top+"-top", "opacity: 1");
                    hidingelements[i].setAttribute("data-"+(above + hiddingelementscutoff - 10)+"-top-bottom", "opacity: 0");
                    hidingelements[i].setAttribute("data-"+(above + hiddingelementscutoff)+"-top-bottom", "opacity: 0.5");
                    hidingelements[i].setAttribute("data-"+(below - hiddingelementscutoff)+"-top", "opacity: 0.5");
                    hidingelements[i].setAttribute("data-"+(below - hiddingelementscutoff + 10)+"-top", "opacity: 0");
                  }
                  var listmiddlecontents = document.getElementsByClassName("listmiddlecontent");
                  for (var i = 0; i < listmiddlecontents.length; ++i) {
                    listmiddlecontents[i].setAttribute("data-"+top+"-top", "transform:scale(1) translate(-50%, -50%)");
                    listmiddlecontents[i].setAttribute("data-"+above+"-top-bottom", "transform:scale(0.7) translate(-50%, -50%)");
                    listmiddlecontents[i].setAttribute("data-"+below+"-top", "transform:scale(0.7) translate(-50%, -50%)");
                  }

                  skrollr.init({
                    forceHeight:false
                  });

                  var thebody = document.getElementsByTagName("body")[0];
                  thebody.removeAttribute("style");

                  document.getElementById("skrollr-body").style.height = bodydefaultsizeheight;
                  document.getElementById("skrollr-body").style.width = bodydefaultsizewidth;

                  autoplay = setInterval(function(){
                    if(autoplayscrolleddistance >= 225 && autoplayscrolldirection == 1){
                      autoplayscrolldirection = -1;
                    } else if (autoplayscrolleddistance <= 0 && autoplayscrolldirection == -1){
                      autoplayscrolldirection = 1;
                    }
                    autoplayscrolleddistance += 75*autoplayscrolldirection;
                    skrollr.get().animateTo(autoplayscrolleddistance);
                  }, 2000);

                  skrollr.get().on("render",listsnapscroll);

                  document.getElementById("location1click").onclick = (function (locationid) {return function() {gottodetail(locationid);} })("location1div");
                  document.getElementById("location2click").onclick = (function (locationid) {return function() {gottodetail(locationid);} })("location2div");
                  document.getElementById("location3click").onclick = (function (locationid) {return function() {gottodetail(locationid);} })("location3div");
                  document.getElementById("location4click").onclick = (function (locationid) {return function() {gottodetail(locationid);} })("location4div");

                  goback = document.getElementsByClassName("detailgobackbutton");
                  for (var i = 0; i < goback.length; ++i) {
                      goback[i].addEventListener("click",gobacktolist);
                  }

                  goback = document.getElementsByClassName("detailgobackbutton");
                  for (var i = 0; i < goback.length; ++i) {
                      goback[i].addEventListener("click",gobacktolist);
                  }

                  var previewoverlay = document.getElementById("pxr4YkFPF-an-anim");
                  previewoverlay.addEventListener('touchstart',function(e){
                    e.stopPropagation();
                  }, false);
                  previewoverlay.addEventListener('touchmove',function(e){
                    e.stopPropagation();
                  }, false);
                  previewoverlay.addEventListener('touchend',function(e){
                    e.stopPropagation();
                  }, false);

                  var el = document.getElementsByClassName('detailhotelgallery');
                  var l = el.length;
                  for (var i = 0; i < l; i++) {
                    el[i].addEventListener("touchstart", handleStart, false);
                    el[i].addEventListener("touchmove", handleMove, false);
                    el[i].addEventListener("touchend", handleEnd, false);
                  }

                  /*
                  if(typeof(AN)==="undefined"){var AN={}}AN.instances={symbols:[],controllers:[]};AN.apiVersion=1;AN.Symbol=function(){return{currentTimeline:false,userData:{},lastTimelineClass:false,setConfig:function(b,f,a){AN.instances.symbols.push(this);this.containerEl=b;this.controller=a;this.data=f;this.events=this.data.events;this.timelines=[];this.timelinesById={};this.timelinesByName={};var e;for(var c=0;c<this.data.timelines.length;c++){e=this.data.timelines[c];this.timelines.push(e);this.timelinesById[e.id]=e;this.timelinesByName[e.name]=e}this.setupListeners();if(f.actions.init){f.actions.init.call(this.userData,this.controller,this)}var d=this;setTimeout(function(){d.goToTimelineByIndex(0)},0)},setupListeners:function(){var h=this;function f(i){if(i.target!==h.containerEl){h.onAnimationEnd();i.stopPropagation()}}this.containerEl.addEventListener("webkitAnimationEnd",f,false);this.containerEl.addEventListener("animationend",f,false);function a(l,j,i){l.addEventListener(j,function(m){i.call(h.userData,h.controller,m,h)},false)}var d,b,k,g;for(var e=0;e<this.events.length;e++){b=this.events[e];k=b.type;g=".an-symbol-"+b.id;d=this.containerEl.querySelector(g);for(var c=0;c<k.length;c++){a(d,k[c],b.handler)}}},onAnimationEnd:function(){this.runningAnimationCount--;if(this.runningAnimationCount===0){this.onAllAnimationEnd()}},onAllAnimationEnd:function(){var a=this.currentTimeline.endWaitTime;if(a){var b=this;this.symbolTimeout=setTimeout(function(){b.onTimelineFinish()},a*1000)}else{this.onTimelineFinish()}},fireTimelineEvent:function(a){if(this.currentTimeline[a]){this.currentTimeline[a].call(this.userData,this.controller,{},this)}},onTimelineFinish:function(){this.fireTimelineEvent("endAction")},forceRefresh:function(){this.forceRefreshValue=this.containerEl.offsetHeight},getUserData:function(){return this.userData},getSymbolMasterId:function(){return this.data.id},getParentSymbol:function(){var a=this.containerEl;while((a=a.parentNode)&&a!==this.controller.olElement){if(a.className.indexOf("an-symbol-container")!==-1){return this.controller.getSymbolByHtmlId(a.id)}}return null},getChildSymbols:function(){var c=this.containerEl.querySelectorAll(".an-symbol-container");var a=[];for(var b=0;b<c.length;b++){a.push(this.controller.getSymbolByHtmlId(c[b].id))}return a},getChildSymbolByInstanceId:function(b){var a=this.containerEl.querySelector(".an-symbol-container.an-symbol-"+b);return this.controller.getSymbolByHtmlId(a.id)},getContainerElement:function(){return this.containerEl},getController:function(){return this.controller},getTimelineByIndex:function(a){return this.timelines[a]},getTimelineById:function(a){return this.timelinesById[a]},getTimelineByName:function(a){return this.timelinesByName[a]},getCurrentTimeline:function(){return this.currentTimeline},restartTimeline:function(){this.goToTimeline(this.currentTimeline)},goToNextTimeline:function(){var b=this.timelines.indexOf(this.currentTimeline);var a=Math.min(b+1,this.timelines.length-1);if(b===a){return}this.goToTimelineByIndex(a)},goToPreviousTimeline:function(){var b=this.timelines.indexOf(this.currentTimeline);var a=Math.max(b-1,0);if(b===a){return}this.goToTimelineByIndex(a)},goToTimelineByIndex:function(a){this.goToTimeline(this.timelines[a])},goToTimelineById:function(a){this.goToTimeline(this.timelinesById[a])},goToTimelineByName:function(a){this.goToTimeline(this.timelinesByName[a])},goToTimeline:function(a){var c=this.currentTimeline;var b=false;if(c===a){b=true}if(c){this.fireTimelineEvent("exitAction")}this.runningAnimationCount=a.animationCount;this.currentTimeline=a;this.fireTimelineEvent("initAction");var d="t-"+a.id;clearTimeout(this.symbolTimeout);if(this.lastTimelineClass){this.adjustClasses([],[this.lastTimelineClass],this.containerEl);this.lastTimelineClass=false}if(b||this.controller.browser==="moz"){this.adjustClasses(["restart","run",d],[],this.containerEl);this.forceRefresh()}this.adjustClasses(["run",d],["restart"],this.containerEl);this.lastTimelineClass=d;this.fireTimelineEvent("startAction");if(a.animationCount===0){this.onAllAnimationEnd()}},getClassArray:function(c){var a=c.className;a=a.split(" ");var d=[];for(var b=0;b<a.length;b++){if(a[b]){d.push(a[b])}}return a},adjustClasses:function(f,c,b){var d=this.getClassArray(b);var e;for(var a=d.length-1;a>=0;a--){e=d[a];if(c.indexOf(e)!==-1){d.splice(a,1)}}for(var a=0;a<f.length;a++){if(d.indexOf(f[a])===-1){d.push(f[a])}}b.className=d.join(" ")}}};AN.Controller=function(){return{currentScene:false,userData:{},setConfig:function(a){AN.instances.controllers.push(this);this.events=a.events;this.prefix=a.cssPrefix;this.projectActions=a.projectActions;this.basePath=a.basePath?a.basePath:"";this.olElement=document.querySelector("#"+a.parentId+" ol");var d=this.olElement.children;this.useOrmma=a.ormma;this.scenes=[];this.scenesById={};this.sceneByName={};var g;for(var e=0;e<a.scenes.length;e++){g=a.scenes[e];g.element=d[e];g.timelinesById={};g.timelinesByName={};for(var c=0;c<g.timelines.length;c++){g.timelinesById[g.timelines[c].id]=g.timelines[c];g.timelinesByName[g.timelines[c].name]=g.timelines[c]}this.scenesById[g.id]=g;this.scenes.push(g);if(g.name){this.sceneByName[g.name]=g}}this.setupListeners();this.startSceneByName=this.goToSceneByName;this.startSceneById=this.goToSceneById;this.startSceneByID=this.startSceneById;this.symbolInstancesByHtmlId={};this.symbolInstancesById={};this.symbols=[];var h,b,f;for(var e=0;e<a.symbols.length;e++){h=a.symbols[e];this.symbolInstancesById[h.id]=[];b=this.olElement.querySelectorAll(".an-symbol-container-"+h.id);for(var c=0;c<b.length;c++){f=new AN.Symbol();f.setConfig(b[c],h,this);this.symbolInstancesByHtmlId[b[c].id]=f;this.symbolInstancesById[h.id].push(f);this.symbols.push(f)}}this.fireAction(this.projectActions,"init");this.goToScene(this.scenes[0])},setupListeners:function(){var l=this;this.browser="unknown";if(document.body.style.MozAnimationName!==undefined){this.browser="moz"}function h(j){var i;if(l.browser==="moz"){i=j.target;while(i=i.parentNode){if(i===l.currentScene.element){l.onAnimationEnd();return}}}else{l.onAnimationEnd()}}this.olElement.addEventListener("webkitAnimationEnd",h,false);this.olElement.addEventListener("animationend",h,false);function c(i){i.element.addEventListener("mousemove",function(j){i.mousemoveAction.call(l.userData,l,j)},false)}var g;for(var e=0;e<this.scenes.length;e++){g=this.scenes[e];if(g.mousemoveAction){c(g)}}function a(m,j,i){m.addEventListener(j,function(n){i.call(l.userData,l,n)},false)}var f,b,k;for(var e=0;e<this.events.length;e++){b=this.events[e];k=b.type;f=document.getElementById(b.id);for(var d=0;d<k.length;d++){a(f,k[d],b.handler)}}},onAnimationEnd:function(){this.runningAnimationCount--;if(this.runningAnimationCount===0){this.onAllAnimationEnd()}},onAllAnimationEnd:function(){var a=this.currentScene.currentTimeline.endWaitTime;if(a){var b=this;this.sceneTimeout=setTimeout(function(){b.onSceneFinish()},a*1000)}else{this.onSceneFinish()}},forceRefresh:function(a){this.forceRefreshValue=a.element.offsetHeight},fireAction:function(b,a){if(b&&b[a]){b[a].call(this.userData,this)}},getSymbolByHtmlId:function(a){return this.symbolInstancesByHtmlId[a]},getSymbolByInstanceId:function(b){var a=this.olElement.querySelector(".an-symbol-container.an-symbol-"+b);return this.getSymbolByHtmlId(a.id)},getSymbols:function(){return this.symbols},getSymbolsBySymbolMasterId:function(a){return this.symbolInstancesById[a]},getUserData:function(){return this.userData},getTimelineByIndex:function(a){return this.currentScene.timelines[a]},getTimelineById:function(a){return this.currentScene.timelinesById[a]},getTimelineByName:function(a){return this.currentScene.timelinesByName[a]},getCurrentTimeline:function(){return this.currentScene.currentTimeline},getCurrentScene:function(){return this.currentScene},getSceneByIndex:function(a){return this.scenes[a]},getSceneById:function(a){return this.scenesById[a]},getSceneByName:function(a){return this.sceneByName[a]},goToNextTimeline:function(){var b=this.currentScene.timelines.indexOf(this.currentScene.currentTimeline);var a=Math.min(b+1,this.currentScene.timelines.length-1);if(a===b){return}this.goToTimelineByIndex(a)},goToPreviousTimeline:function(){var b=this.currentScene.timelines.indexOf(this.currentScene.currentTimeline);var a=Math.max(b-1,0);if(b===a){return}this.goToTimelineByIndex(a)},goToTimelineById:function(a){this.goToScene(this.currentScene,this.currentScene.timelinesById[a])},goToTimelineByName:function(a){this.goToScene(this.currentScene,this.currentScene.timelinesByName[a])},goToTimelineByIndex:function(a){this.goToScene(this.currentScene,this.currentScene.timelines[a])},goToTimeline:function(a){this.goToScene(this.currentScene,a)},goToNextScene:function(){var b=this.scenes.indexOf(this.currentScene);var a=Math.min(b+1,this.scenes.length-1);if(b===a){return}this.goToSceneByIndex(a)},goToPreviousScene:function(){var a=this.scenes.indexOf(this.currentScene);var b=Math.max(a-1,0);if(a===b){return}this.goToSceneByIndex(b)},goToSceneByIndex:function(a){this.goToScene(this.scenes[a])},goToSceneByName:function(a){this.goToScene(this.sceneByName[a])},goToSceneById:function(a,b){var c=this.scenesById[a];this.goToScene(c,c.timelinesById[b])},goToScene:function(g,f){var d=g;var e=this.currentScene;var a=f;var c=e?e.currentTimeline:false;if(a===undefined){a=d.timelines[0]}var b=false;if(c===a&&e===d){b=true}else{if(e){e.element.setAttribute("class","")}}this.fireAction(c,"exitAction");clearTimeout(this.sceneTimeout);if(e!==d){this.fireAction(e,"exitAction");this.fireAction(d,"initAction")}this.fireAction(a,"initAction");this.runningAnimationCount=a.animationCount;this.currentScene=d;d.currentTimeline=a;var h="t-"+a.id;if(b||this.browser==="moz"){d.element.setAttribute("class","run restart "+h);this.forceRefresh(d)}d.element.setAttribute("class","run "+h);if(!b&&this.useOrmma){this.ormmaNextScene(d)}this.fireAction(a,"startAction");if(a.animationCount===0){this.onAllAnimationEnd()}},replayScene:function(){console.warn("replayScene is deprecated. Use restartScene instead.");this.restartScene()},restartScene:function(){this.goToScene(this.currentScene)},restartTimeline:function(){this.goToScene(this.currentScene,this.currentScene.currentTimeline)},onSceneFinish:function(){this.fireAction(this.currentScene.currentTimeline,"endAction")},goToURL:function(a){document.location.href=a},getElementById:function(a){return document.getElementById(this.getElementIdById(a))},getElementIdById:function(a){return this.prefix+a},getUrlForLocalAsset:function(b){var a="assets/"+b;if(this.basePath){a=this.basePath+"/"+a}return a},ormmaNextScene:function(c){var a=ormma.getState();if(c.dimensions.expanded){var i=ormma.getMaxSize();if(a!=="expanded"){ormma.expand({x:0,y:0,width:i.width,height:i.height})}var b="";var d=c.element.offsetHeight;var g=c.element.offsetWidth;var e=(i.height-d)/2;var h=(i.width-g)/2;b+=" translate3d("+Math.round(h)+"px,"+Math.round(e)+"px,0)";if(c.dimensions.fit){var f=Math.min(i.width/g,i.height/d);b+=" scale3d("+f+","+f+",1)"}c.element.style.webkitTransform=b}else{if(a==="expanded"){ormma.close()}ormma.resize(c.dimensions.width,c.dimensions.height)}}}};window.addEventListener('load',function(){var configData={parentId:'pre-view-an-anim',cssPrefix:'pre-view-',ormma:false,mraid:false,layout:{"type":"absolute","width":320,"height":480},scenes:[{id:0,dimensions:{height:100,width:100,expanded:false,fit:false},timelines:[{id:"0",name:'Timeline 1',animationCount:0,duration:0,lastKeyframeTime:0,startAction:function(controller,event,symbolController){controller.dropOverlay(1500);}}]}],symbols:[{id:'6UaFsn',name:'overlay',events:[{id:"e3it6sRl",type:['click'],handler:function(controller,event,symbolController){symbolController.goToNextTimeline();}}],actions:{init:function(controller,symbolController){if(typeof(initTestDrive)!='undefined'&&typeof(initTestDrive)=="function"){initTestDrive();}
                    if(typeof(previewController)=='undefined'){var previewController;}
                    if(!previewController){previewController=controller;}
                    previewController.dropOverlay=function(timeout){var t=timeout||0;setTimeout(function(){symbolController.goToTimelineByName('down');},t);}}},timelines:[{id:"0",name:'hidden',animationCount:0,duration:0,lastKeyframeTime:0},{id:"BkkFCc",name:'down',animationCount:2,duration:0.5,lastKeyframeTime:0.5,endAction:function(controller,event,symbolController){symbolController.goToNextTimeline();}},{id:"NFTQc8",name:'wait',animationCount:0,duration:0,lastKeyframeTime:0},{id:"E2F1C7",name:'up',animationCount:2,duration:0.5,lastKeyframeTime:0.5,endAction:function(controller,event,symbolController){if(typeof(startTestDrive)!='undefined'&&typeof(startTestDrive)=="function"){startTestDrive();}}}]}],projectActions:{},events:[],externalResources:[]};setTimeout(function(){var controller=new AN.Controller;controller.setConfig(configData);},0);},false);
    */

                  
if(typeof(AN)==="undefined"){var AN={}}AN.instances={symbols:[],controllers:[]};AN.apiVersion=1;AN.Symbol=function(){return{currentTimeline:false,userData:{},lastTimelineClass:false,setConfig:function(b,f,a){AN.instances.symbols.push(this);this.containerEl=b;this.controller=a;this.data=f;this.events=this.data.events;this.timelines=[];this.timelinesById={};this.timelinesByName={};var e;for(var c=0;c<this.data.timelines.length;c++){e=this.data.timelines[c];this.timelines.push(e);this.timelinesById[e.id]=e;this.timelinesByName[e.name]=e}this.setupListeners();if(f.actions.init){f.actions.init.call(this.userData,this.controller,this)}var d=this;setTimeout(function(){d.goToTimelineByIndex(0)},0)},setupListeners:function(){var h=this;function f(i){if(i.target!==h.containerEl){h.onAnimationEnd();i.stopPropagation()}}this.containerEl.addEventListener("webkitAnimationEnd",f,false);this.containerEl.addEventListener("animationend",f,false);function a(l,j,i){l.addEventListener(j,function(m){i.call(h.userData,h.controller,m,h)},false)}var d,b,k,g;for(var e=0;e<this.events.length;e++){b=this.events[e];k=b.type;g=".an-symbol-"+b.id;d=this.containerEl.querySelector(g);for(var c=0;c<k.length;c++){a(d,k[c],b.handler)}}},onAnimationEnd:function(){this.runningAnimationCount--;if(this.runningAnimationCount===0){this.onAllAnimationEnd()}},onAllAnimationEnd:function(){var a=this.currentTimeline.endWaitTime;if(a){var b=this;this.symbolTimeout=setTimeout(function(){b.onTimelineFinish()},a*1000)}else{this.onTimelineFinish()}},fireTimelineEvent:function(a){if(this.currentTimeline[a]){this.currentTimeline[a].call(this.userData,this.controller,{},this)}},onTimelineFinish:function(){this.fireTimelineEvent("endAction")},forceRefresh:function(){this.forceRefreshValue=this.containerEl.offsetHeight},getUserData:function(){return this.userData},getSymbolMasterId:function(){return this.data.id},getParentSymbol:function(){var a=this.containerEl;while((a=a.parentNode)&&a!==this.controller.olElement){if(a.className.indexOf("an-symbol-container")!==-1){return this.controller.getSymbolByHtmlId(a.id)}}return null},getChildSymbols:function(){var c=this.containerEl.querySelectorAll(".an-symbol-container");var a=[];for(var b=0;b<c.length;b++){a.push(this.controller.getSymbolByHtmlId(c[b].id))}return a},getChildSymbolByInstanceId:function(b){var a=this.containerEl.querySelector(".an-symbol-container.an-symbol-"+b);return this.controller.getSymbolByHtmlId(a.id)},getContainerElement:function(){return this.containerEl},getController:function(){return this.controller},getTimelineByIndex:function(a){return this.timelines[a]},getTimelineById:function(a){return this.timelinesById[a]},getTimelineByName:function(a){return this.timelinesByName[a]},getCurrentTimeline:function(){return this.currentTimeline},restartTimeline:function(){this.goToTimeline(this.currentTimeline)},goToNextTimeline:function(){var b=this.timelines.indexOf(this.currentTimeline);var a=Math.min(b+1,this.timelines.length-1);if(b===a){return}this.goToTimelineByIndex(a)},goToPreviousTimeline:function(){var b=this.timelines.indexOf(this.currentTimeline);var a=Math.max(b-1,0);if(b===a){return}this.goToTimelineByIndex(a)},goToTimelineByIndex:function(a){this.goToTimeline(this.timelines[a])},goToTimelineById:function(a){this.goToTimeline(this.timelinesById[a])},goToTimelineByName:function(a){this.goToTimeline(this.timelinesByName[a])},goToTimeline:function(a){var c=this.currentTimeline;var b=false;if(c===a){b=true}if(c){this.fireTimelineEvent("exitAction")}this.runningAnimationCount=a.animationCount;this.currentTimeline=a;this.fireTimelineEvent("initAction");var d="t-"+a.id;clearTimeout(this.symbolTimeout);if(this.lastTimelineClass){this.adjustClasses([],[this.lastTimelineClass],this.containerEl);this.lastTimelineClass=false}if(b||this.controller.browser==="moz"){this.adjustClasses(["restart","run",d],[],this.containerEl);this.forceRefresh()}this.adjustClasses(["run",d],["restart"],this.containerEl);this.lastTimelineClass=d;this.fireTimelineEvent("startAction");if(a.animationCount===0){this.onAllAnimationEnd()}},getClassArray:function(c){var a=c.className;a=a.split(" ");var d=[];for(var b=0;b<a.length;b++){if(a[b]){d.push(a[b])}}return a},adjustClasses:function(f,c,b){var d=this.getClassArray(b);var e;for(var a=d.length-1;a>=0;a--){e=d[a];if(c.indexOf(e)!==-1){d.splice(a,1)}}for(var a=0;a<f.length;a++){if(d.indexOf(f[a])===-1){d.push(f[a])}}b.className=d.join(" ")}}};AN.Controller=function(){return{currentScene:false,userData:{},setConfig:function(a){AN.instances.controllers.push(this);this.events=a.events;this.prefix=a.cssPrefix;this.projectActions=a.projectActions;this.basePath=a.basePath?a.basePath:"";this.olElement=document.querySelector("#"+a.parentId+" ol");var d=this.olElement.children;this.useOrmma=a.ormma;this.scenes=[];this.scenesById={};this.sceneByName={};var g;for(var e=0;e<a.scenes.length;e++){g=a.scenes[e];g.element=d[e];g.timelinesById={};g.timelinesByName={};for(var c=0;c<g.timelines.length;c++){g.timelinesById[g.timelines[c].id]=g.timelines[c];g.timelinesByName[g.timelines[c].name]=g.timelines[c]}this.scenesById[g.id]=g;this.scenes.push(g);if(g.name){this.sceneByName[g.name]=g}}this.setupListeners();this.startSceneByName=this.goToSceneByName;this.startSceneById=this.goToSceneById;this.startSceneByID=this.startSceneById;this.symbolInstancesByHtmlId={};this.symbolInstancesById={};this.symbols=[];var h,b,f;for(var e=0;e<a.symbols.length;e++){h=a.symbols[e];this.symbolInstancesById[h.id]=[];b=this.olElement.querySelectorAll(".an-symbol-container-"+h.id);for(var c=0;c<b.length;c++){f=new AN.Symbol();f.setConfig(b[c],h,this);this.symbolInstancesByHtmlId[b[c].id]=f;this.symbolInstancesById[h.id].push(f);this.symbols.push(f)}}this.fireAction(this.projectActions,"init");this.goToScene(this.scenes[0])},setupListeners:function(){var l=this;this.browser="unknown";if(document.body.style.MozAnimationName!==undefined){this.browser="moz"}function h(j){var i;if(l.browser==="moz"){i=j.target;while(i=i.parentNode){if(i===l.currentScene.element){l.onAnimationEnd();return}}}else{l.onAnimationEnd()}}this.olElement.addEventListener("webkitAnimationEnd",h,false);this.olElement.addEventListener("animationend",h,false);function c(i){i.element.addEventListener("mousemove",function(j){i.mousemoveAction.call(l.userData,l,j)},false)}var g;for(var e=0;e<this.scenes.length;e++){g=this.scenes[e];if(g.mousemoveAction){c(g)}}function a(m,j,i){m.addEventListener(j,function(n){i.call(l.userData,l,n)},false)}var f,b,k;for(var e=0;e<this.events.length;e++){b=this.events[e];k=b.type;f=document.getElementById(b.id);for(var d=0;d<k.length;d++){a(f,k[d],b.handler)}}},onAnimationEnd:function(){this.runningAnimationCount--;if(this.runningAnimationCount===0){this.onAllAnimationEnd()}},onAllAnimationEnd:function(){var a=this.currentScene.currentTimeline.endWaitTime;if(a){var b=this;this.sceneTimeout=setTimeout(function(){b.onSceneFinish()},a*1000)}else{this.onSceneFinish()}},forceRefresh:function(a){this.forceRefreshValue=a.element.offsetHeight},fireAction:function(b,a){if(b&&b[a]){b[a].call(this.userData,this)}},getSymbolByHtmlId:function(a){return this.symbolInstancesByHtmlId[a]},getSymbolByInstanceId:function(b){var a=this.olElement.querySelector(".an-symbol-container.an-symbol-"+b);return this.getSymbolByHtmlId(a.id)},getSymbols:function(){return this.symbols},getSymbolsBySymbolMasterId:function(a){return this.symbolInstancesById[a]},getUserData:function(){return this.userData},getTimelineByIndex:function(a){return this.currentScene.timelines[a]},getTimelineById:function(a){return this.currentScene.timelinesById[a]},getTimelineByName:function(a){return this.currentScene.timelinesByName[a]},getCurrentTimeline:function(){return this.currentScene.currentTimeline},getCurrentScene:function(){return this.currentScene},getSceneByIndex:function(a){return this.scenes[a]},getSceneById:function(a){return this.scenesById[a]},getSceneByName:function(a){return this.sceneByName[a]},goToNextTimeline:function(){var b=this.currentScene.timelines.indexOf(this.currentScene.currentTimeline);var a=Math.min(b+1,this.currentScene.timelines.length-1);if(a===b){return}this.goToTimelineByIndex(a)},goToPreviousTimeline:function(){var b=this.currentScene.timelines.indexOf(this.currentScene.currentTimeline);var a=Math.max(b-1,0);if(b===a){return}this.goToTimelineByIndex(a)},goToTimelineById:function(a){this.goToScene(this.currentScene,this.currentScene.timelinesById[a])},goToTimelineByName:function(a){this.goToScene(this.currentScene,this.currentScene.timelinesByName[a])},goToTimelineByIndex:function(a){this.goToScene(this.currentScene,this.currentScene.timelines[a])},goToTimeline:function(a){this.goToScene(this.currentScene,a)},goToNextScene:function(){var b=this.scenes.indexOf(this.currentScene);var a=Math.min(b+1,this.scenes.length-1);if(b===a){return}this.goToSceneByIndex(a)},goToPreviousScene:function(){var a=this.scenes.indexOf(this.currentScene);var b=Math.max(a-1,0);if(a===b){return}this.goToSceneByIndex(b)},goToSceneByIndex:function(a){this.goToScene(this.scenes[a])},goToSceneByName:function(a){this.goToScene(this.sceneByName[a])},goToSceneById:function(a,b){var c=this.scenesById[a];this.goToScene(c,c.timelinesById[b])},goToScene:function(g,f){var d=g;var e=this.currentScene;var a=f;var c=e?e.currentTimeline:false;if(a===undefined){a=d.timelines[0]}var b=false;if(c===a&&e===d){b=true}else{if(e){e.element.setAttribute("class","")}}this.fireAction(c,"exitAction");clearTimeout(this.sceneTimeout);if(e!==d){this.fireAction(e,"exitAction");this.fireAction(d,"initAction")}this.fireAction(a,"initAction");this.runningAnimationCount=a.animationCount;this.currentScene=d;d.currentTimeline=a;var h="t-"+a.id;if(b||this.browser==="moz"){d.element.setAttribute("class","run restart "+h);this.forceRefresh(d)}d.element.setAttribute("class","run "+h);if(!b&&this.useOrmma){this.ormmaNextScene(d)}this.fireAction(a,"startAction");if(a.animationCount===0){this.onAllAnimationEnd()}},replayScene:function(){console.warn("replayScene is deprecated. Use restartScene instead.");this.restartScene()},restartScene:function(){this.goToScene(this.currentScene)},restartTimeline:function(){this.goToScene(this.currentScene,this.currentScene.currentTimeline)},onSceneFinish:function(){this.fireAction(this.currentScene.currentTimeline,"endAction")},goToURL:function(a){document.location.href=a},getElementById:function(a){return document.getElementById(this.getElementIdById(a))},getElementIdById:function(a){return this.prefix+a},getUrlForLocalAsset:function(b){var a="assets/"+b;if(this.basePath){a=this.basePath+"/"+a}return a},ormmaNextScene:function(c){var a=ormma.getState();if(c.dimensions.expanded){var i=ormma.getMaxSize();if(a!=="expanded"){ormma.expand({x:0,y:0,width:i.width,height:i.height})}var b="";var d=c.element.offsetHeight;var g=c.element.offsetWidth;var e=(i.height-d)/2;var h=(i.width-g)/2;b+=" translate3d("+Math.round(h)+"px,"+Math.round(e)+"px,0)";if(c.dimensions.fit){var f=Math.min(i.width/g,i.height/d);b+=" scale3d("+f+","+f+",1)"}c.element.style.webkitTransform=b}else{if(a==="expanded"){ormma.close()}ormma.resize(c.dimensions.width,c.dimensions.height)}}}};window.addEventListener('load',function(){var configData={parentId:'pxr4YkFPF-an-anim',cssPrefix:'pxr4YkFPF-',ormma:false,mraid:false,layout:{"type":"absolute","width":320,"height":480},scenes:[{id:0,dimensions:{height:100,width:100,expanded:false,fit:false},timelines:[{id:"0",name:'start',animationCount:0,duration:0,lastKeyframeTime:0,startAction:function(controller,event,symbolController){}},{id:"vaBCPo",name:'end',animationCount:0,duration:0,lastKeyframeTime:0,startAction:function(controller,event,symbolController){var main=controller.getSymbolByInstanceId('6HNIcJFP');main.goToTimelineByName('Outro');controller.dropOverlay(1000);}}]}],symbols:[{id:'np1tpw',name:'autoplay_320x480',events:[],actions:{init:function(controller,symbolController){if(typeof(initTestDrive)!='undefined'&&typeof(initTestDrive)=="function"){initTestDrive();}
if(typeof(previewController)=='undefined'){var previewController;}
if(!previewController){previewController=controller;}
previewController.dropOverlay=function(timeout){var t=timeout||0;setTimeout(function(){symbolController.goToTimelineByName('down');},t);}
previewController.dropOutro=function(timeout){var t=timeout||0;setTimeout(function(){postviewStageAppearHelper();},t);}
postviewStageAppearHelper=function(message){var outroMessage;if(arguments.length==1){if(message!=""){outroMessage=message;}}else if(message==undefined){var outromessagecontainer=document.getElementsByClassName("hidden-outro-message")[0];outroMessage=outromessagecontainer.childNodes[0].textContent;}
var modalTextContainers=document.getElementsByClassName("overlay-text-container");if(modalTextContainers.length>0){for(var i=0;i<modalTextContainers.length;++i){modalTextContainers[i].innerHTML="<span style='display: table-cell; vertical-align: middle;'>"+outroMessage+"</span>";}}
var modalContinueContainers;modalContinueContainers=document.getElementsByClassName("overlay-cta-container-ios");if(modalContinueContainers.length>0){for(var i=0;i<modalContinueContainers.length;++i){modalContinueContainers[i].innerHTML="Tap Anywhere to Get";}}
modalContinueContainers=document.getElementsByClassName("overlay-cta-container-android");if(modalContinueContainers.length>0){for(var i=0;i<modalContinueContainers.length;++i){modalContinueContainers[i].innerHTML="Tap Anywhere to Install";}}
var mnGameHolders=document.getElementsByClassName("mn-game-holder");if(mnGameHolders.length>0){symbolController.goToTimelineByName('cta-up');}
controller.dropOverlay(500);var appstorelinks=document.querySelectorAll('a.destination-url');if(appstorelinks.length>0){var taparea=document.getElementsByClassName("overlay-tap-area")[0];tapareaclone=taparea.cloneNode(true);var newatag=appstorelinks[0].cloneNode(true);newatag.appendChild(tapareaclone);taparea.parentNode.replaceChild(newatag,taparea);}
var mnGameHolders=document.getElementsByClassName("mn-game-holder");if(mnGameHolders.length>0){if(typeof mixpanel=='object'&&typeof mixpanel!='undefined'){mixpanel.track(environment+" - session end",properties);}}}
var modalTextContainers=document.getElementsByClassName("overlay-text-container");if(modalTextContainers.length>0){for(var i=0;i<modalTextContainers.length;++i){if(modalTextContainers[i].style.display!="none"){modalTextContainers[i].childNodes[0].style.display="table-cell";modalTextContainers[i].childNodes[0].style.verticalAlign="middle";modalTextContainers[i].style.display="table";}}}
var mnGameHolders=document.getElementsByClassName("mn-game-holder");if(mnGameHolders.length>0){for(var i=0;i<mnGameHolders.length;++i){var mnectarcenters=document.getElementsByClassName("mn-center");if(mnectarcenters.length>0){mnectarcenters[0].style.background="#ffffff";}
var mnectarenters=document.getElementsByClassName("mn-ectar");if(mnectarenters.length>0){mnectarenters[0].style.background="#ffffff";}}}}},timelines:[{id:"NFTQc8",name:'wait',animationCount:0,duration:0,lastKeyframeTime:0,startAction:function(controller,event,symbolController){setTimeout(function(){symbolController.goToTimelineByName('up');},1900);var progameholder=document.getElementsByClassName("mn-pro-game-holder");if(progameholder.length>0){for(var i=0;i<progameholder.length;++i){progameholder[i].style.WebkitTransition="all 0.5s";progameholder[i].style.webkitFilter="blur(4px)";}}
var mnGameHolders=document.getElementsByClassName("mn-game-holder");if(mnGameHolders.length>0){for(var i=0;i<mnGameHolders.length;++i){mnGameHolders[i].style.WebkitTransition="all 0.5s";mnGameHolders[i].style.webkitFilter="blur(4px)";}}
var getreadyios=document.getElementsByClassName('an-symbol-M8MOqPdk')[0];if(typeof(getreadyios)!='undefined'){var symbol_ios=controller.getSymbolByInstanceId('M8MOqPdk');symbol_ios.goToTimelineByName('run');}
var getreadyandroid=document.getElementsByClassName('an-symbol-JoVFPRvr')[0];if(typeof(getreadyandroid)!='undefined'){var symbol_ios=controller.getSymbolByInstanceId('JoVFPRvr');symbol_ios.goToTimelineByName('run');}}},{id:"E2F1C7",name:'up',animationCount:2,duration:0,lastKeyframeTime:0.5,endAction:function(controller,event,symbolController){if(typeof(startTestDrive)!='undefined'&&typeof(startTestDrive)=="function"){startTestDrive();}
var mnGameHolders=document.getElementsByClassName("mn-game-holder");if(mnGameHolders.length>0){symbolController.goToTimelineByName('cta-down');}},startAction:function(controller,event,symbolController){var progameholder=document.getElementsByClassName("mn-pro-game-holder");if(progameholder.length>0){for(var i=0;i<progameholder.length;++i){progameholder[0].style.webkitFilter="blur(0px)";}}
var mnGameHolders=document.getElementsByClassName("mn-game-holder");if(mnGameHolders.length>0){for(var i=0;i<mnGameHolders.length;++i){mnGameHolders[i].style.webkitFilter="blur(0px)";}}}},{id:"0",name:'hidden',animationCount:0,duration:0,lastKeyframeTime:0},{id:"BkkFCc",name:'down',animationCount:2,duration:0.5,lastKeyframeTime:0.5,startAction:function(controller,event,symbolController){var progameholder=document.getElementsByClassName("mn-pro-game-holder");if(progameholder.length>0){for(var i=0;i<progameholder.length;++i){progameholder[i].style.WebkitTransition="all 0.5s";progameholder[i].style.webkitFilter="blur(4px)";}}
var mnGameHolders=document.getElementsByClassName("mn-game-holder");if(mnGameHolders.length>0){for(var i=0;i<mnGameHolders.length;++i){mnGameHolders[i].style.WebkitTransition="all 0.5s";mnGameHolders[i].style.webkitFilter="blur(4px)";}}}},{id:"XAFz2J",name:'cta-down',animationCount:1,duration:0.5,lastKeyframeTime:0.5,startAction:function(controller,event,symbolController){var mnGameHolders=document.getElementsByClassName("mn-game-holder");if(mnGameHolders.length>0){for(var i=0;i<mnGameHolders.length;++i){mnGameHolders[i].style.webkitTransformOrigin="50% 100%";mnGameHolders[i].style.WebkitTransition="all 0.5s";mnGameHolders[i].style.webkitTransform="scale(0.91667,0.91667)";}}}},{id:"BsrH93",name:'cta-up',animationCount:1,duration:0.5,lastKeyframeTime:0.5,startAction:function(controller,event,symbolController){mnGameHolders=document.getElementsByClassName("mn-game-holder");if(mnGameHolders.length>0){for(var i=0;i<mnGameHolders.length;++i){mnGameHolders[i].style.WebkitTransition="all 0.5s";mnGameHolders[i].style.webkitTransformOrigin="50% 100%";mnGameHolders[i].style.webkitTransform="scale(1,1)";}}}}]},{id:'XVcCYy',name:'Text_320x480',events:[],actions:{},timelines:[{id:"0",name:'run',animationCount:3,duration:0.7,lastKeyframeTime:3}]}],projectActions:{},events:[],externalResources:[]};setTimeout(function(){var controller=new AN.Controller;controller.setConfig(configData);},0);},false);
                }

                webviewDidAppearHelper();
                console.log(window.controller);

                function cloneEventObj(eventObj, overrideObj){
                   if(!overrideObj){ overrideObj = {}; }
                   function EventCloneFactory(overProps){
                       for(var x in overProps){
                           this[x] = overProps[x];
                       }
                    }
                    EventCloneFactory.prototype = eventObj;
                    return new EventCloneFactory(overrideObj);
                }


                var startX, startY, moveX, moveY;
                var startevent,firststart = true, lasthorizmove = 0, currenthorizscroll = 0, inithorizscroll = 0;

                function handleStart(evt) {
                    if(firststart){
                        startX = evt.changedTouches[0].pageX;
                        startY = evt.changedTouches[0].pageY;
                        stopdetailautoscroll();

                        inithorizscroll = this.scrollLeft;

                        startevent = cloneEventObj( evt );
                        firststart=false;
                    } else {
                    }
                    
                }

                function handleMove(evt) {
                    //document.getElementById("skrollr-body").dispatchEvent(evt);
                    moveX = evt.changedTouches[0].pageX;
                    moveY = evt.changedTouches[0].pageY;
                    var difX = Math.abs(startX - moveX);
                    var difY = Math.abs(startY - moveY);

                    if (difY < 50) {
                        this.scrollLeft = inithorizscroll + ((startX - moveX) * 2);
                        document.getElementById("location1divhotelgallery").dispatchEvent(startevent.__proto__);
                        evt.stopPropagation();
                    } else {
                        //let Skrollr handle the move event
                    }
                }

                function handleEnd(evt) {
                    firststart = true;
                }

                function stopautoscroll(){
                  clearInterval(autoplay);
                };

                function stopdetailautoscroll(){
                  clearInterval(detailautoplay);
                  detailautoplayscrolldirection = 1;
                  detailautoplayscrolleddistance = 0;
                };

                function listsnapscroll(){
                  if(timer !== null) {
                        clearTimeout(timer);
                    }
                    timer = setTimeout(function() {
                        snaplist();
                    }, 150);
                };

                function detailsnapscroll(){
                    var skrollrtransform = document.getElementById("skrollr-body").style.webkitTransform;
                    var skrollrtransformedited = skrollrtransform.replace("-","");
                    detailtargetbackground.style.webkitTransform = skrollrtransformedited;

                    var thecurrentYpos = skrollr.get().getScrollTop();
                    var themaxYpos = skrollr.get().getMaxScrollTop();
                    var detailbookbuttons = document.getElementsByClassName("detailbookbutton");
                    if(thecurrentYpos >= 10){
                        for (var i = 0; i < detailbookbuttons.length; ++i) {
                            if(detailbookbuttons[i].style.webkitAnimationName != 'slidedown'){
                                detailbookbuttons[i].style.webkitAnimationName = 'slidedown';
                            }
                        }
                    } else {
                        for (var i = 0; i < detailbookbuttons.length; ++i) {
                            if(detailbookbuttons[i].style.webkitAnimationName != 'slideup' && detailbookbuttons[i].style.webkitAnimationName != ''){
                                detailbookbuttons[i].style.webkitAnimationName = 'slideup';
                            }
                        }
                    }
                    var detailfooterbookbuttons = document.getElementsByClassName("detailfooterbutton");
                    var detailfooterbookbuttonsouter = document.getElementsByClassName("detailfooterdownload");
                    if(thecurrentYpos <= (themaxYpos-50)){
                        for (var i = 0; i < detailfooterbookbuttons.length; ++i) {
                            if(detailfooterbookbuttons[i].style.webkitAnimationName == 'slideup'){
                                detailfooterbookbuttons[i].style.webkitAnimationName = 'slidedown';
                                document.getElementById("skipdemoheaderinside").style.webkitAnimationName = 'headerslidedown';
                                for (var i = 0; i < detailfooterbookbuttonsouter.length; ++i) {
                                    detailfooterbookbuttonsouter[i].style.zIndex = 0;
                                }
                            }
                        }
                    } else {
                        for (var i = 0; i < detailfooterbookbuttons.length; ++i) {
                            if(detailfooterbookbuttons[i].style.webkitAnimationName != 'slideup'){
                                detailfooterbookbuttons[i].style.webkitAnimationName = 'slideup';
                                document.getElementById("skipdemoheaderinside").style.webkitAnimationName = 'headerslideup';
                                for (var i = 0; i < detailfooterbookbuttonsouter.length; ++i) {
                                    detailfooterbookbuttonsouter[i].style.zIndex = 200;
                                }
                            }
                        }
                    }
                };

                function snaplist(){
                  //var thecurrentYpos = currentYPosition();
                  //smoothScroll(thecurrentYpos.roundTo(75),15);
                  var thecurrentYpos = skrollr.get().getScrollTop();
                  skrollr.get().animateTo(thecurrentYpos.roundTo(75),{duration:200});
                };

                function gottodetail(locationid){
                  var element = document.getElementById(locationid);
                  //fade to black
                  fadeouttoblack();
                  skrollr.get().setScrollTop(0);
                  //set background that will stay fixed
                  detailtargetbackground = document.getElementById("detailbackground"+locationid.replace("div",""));
                  //wait (fake load time)
                  setTimeout(function() {
                    //show detail
                    element.className = element.className + " showndetail";
                    //detail slide in
                    element.removeEventListener('webkitAnimationEnd', slideoutofviewend, false);
                    element.addEventListener('webkitAnimationEnd', slideintoviewend, false);
                    //element.className = element.className + " slidein";
                    element.style.webkitAnimationName = 'slidetoleft';
                    element.style.display = "block";


                    detailautoplay = setInterval(function(){
                        if(detailautoplayscrolleddistance >= 1280 && detailautoplayscrolldirection == 1){
                          detailautoplayscrolldirection = -1;
                        } else if (detailautoplayscrolleddistance <= 0 && detailautoplayscrolldirection == -1){
                          detailautoplayscrolldirection = 1;
                          //stops the autoplay after one cycle up & down
                          //clearInterval(autoplay);
                          //return 0;
                        }
                        detailautoplayscrolleddistance += 320*detailautoplayscrolldirection;

                        detailscrollinggallery = document.getElementById(""+locationid+"hotelgallery");
                        smoothScrollGalleryHorizontal(detailautoplayscrolleddistance,1);
                    }, 3000);
                  }, 100);
                };


                function slideintoviewend(){
                  //THIS function gets called twice
                  //hide list
                  document.getElementById("containerdiv").style.display = "none";
                  //recalc
                  skrollr.get().refresh(document.getElementById("skrollr-body"));
                  skrollr.get().on("render",detailsnapscroll);
                };

                function slideoutofviewend(){
                  this.style.webkitAnimationName = '';
                  this.style.display = "none";

                  //skrollr.get().setScrollTop(0);
                  skrollr.get().refresh(document.getElementById("skrollr-body"));
                  skrollr.get().on("render",listsnapscroll);
                  setTimeout(function() {
                      fadeintolight();
                  },400);
                };

                function gobacktolist(){
                  //show list
                  document.getElementById("containerdiv").style.display = "block";
                  stopdetailautoscroll();
                  //detail slide out
                  var showdetailblocks = document.getElementsByClassName("showndetail");
                  for (var i = 0; i < showdetailblocks.length; ++i) {
                    showdetailblocks[i].removeEventListener('webkitAnimationEnd', slideintoviewend, false);
                    showdetailblocks[i].addEventListener('webkitAnimationEnd', slideoutofviewend, false);
                    showdetailblocks[i].style.webkitAnimationName = 'slidetoright';
                    showdetailblocks[i].className = "detaildiv";
                  }
                };

                function fadeouttoblack(){
                  //fadeObject(document.getElementById("fadebox"),0.8,100);
                  document.getElementById("fadebox").style.zIndex = 100;
                }
                var fadetolight;
                function fadeintolight(){
                  document.getElementById("fadebox").style.zIndex = 0;
                }

                function currentYPosition() {
                    // Firefox, Chrome, Opera, Safari
                    if (self.pageYOffset) {
                      return self.pageYOffset;
                    }
                    // Internet Explorer 6 - standards mode
                    if (document.documentElement && document.documentElement.scrollTop) {
                      return document.documentElement.scrollTop;
                    }
                    // Internet Explorer 6, 7 and 8
                    if (document.body.scrollTop) {
                      return document.body.scrollTop;
                    } 
                    return 0;
                };

                function smoothScrollGalleryHorizontal(thestopY, thespeed) {
                    var startY = detailscrollinggallery.scrollLeft;
                    //var startY = currentYPosition();
                    var stopY = thestopY;
                    var distance = stopY > startY ? stopY - startY : startY - stopY;
                    if (distance <= 1) {
                        return;
                    }
                    if (distance < 5) {
                        scrollTo(0, stopY); return;
                    }
                    var speed = Math.round(distance / 10);
                    if (speed >= 20) speed = 20;
                    speed = thespeed;
                    var step = Math.round(distance / 25);
                    var step = 1;
                    var leapY = stopY > startY ? startY + step : startY - step;
                    var timer = 1;
                    if (stopY > startY) {
                        for ( var i=startY; i<stopY; i+=step ) {
                            setTimeout("detailscrollinggallery.scrollLeft = "+leapY+";", timer * speed);
                            //setTimeout("window.scrollTo(0, "+leapY+")", timer * speed);
                            leapY += step; if (leapY > stopY) leapY = stopY; timer++;
                        } return;
                    }
                    for ( var i=startY; i>stopY; i-=step ) {
                        setTimeout("detailscrollinggallery.scrollLeft = "+leapY+";", timer * speed);
                        //setTimeout("window.scrollTo(0, "+leapY+")", timer * speed);
                        leapY -= step; if (leapY < stopY) leapY = stopY; timer++;
                    }
                    return false;
                };

                Number.prototype.roundTo = function(num) {
                    var resto = this%num;
                    if (resto <= (num/2)) { 
                      return this-resto;
                    } else {
                      return this+num-resto;
                    }
                }
            </script>
    </div>

    <script type="text/javascript" charset="utf-8">
        (function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");
        for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="http://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);
        mixpanel.init("9bd0dd5ebf5da81e712b55fb54e2a2d2");

        var environment = 'production';
        if (typeof inPreview !== 'undefined' && typeof inBrowser !== 'undefined') {
            environment = 'website';
        }
        else if (typeof inPreview !== 'undefined') {
            environment = 'preview';
        }
        /*
        var properties = {
            "vm_platform": "lite",
            "adunit_id": "${data.adUnitId}",
            "ad_id": ${adTemplateData.adId?c}
        };
        

    function mnWebviewDidAppear() {
        mixpanel.track(environment + " - impression", properties);
    }*/

    function startTestDrive() {

        //mixpanel.track(environment + " - session start", properties);
        //mixpanel.track(environment + " - action", properties);
/*
        <#if data.actionTrackerUrlValue?? && data.createdAt??>
            var actionRequest = new XMLHttpRequest();
            actionRequest.timeout = 3000;
            actionRequest.open("GET", '${data.actionTrackerUrlValue}&cb=${data.createdAt?c}', true);
            actionRequest.send();
        </#if>
        */

      stopautoscroll();
      //do more stuff since the user started the experience
      //show the skip demo header
      var skipdemoheader = document.getElementById("skipdemoheaderinside");
      skipdemoheader.style.webkitAnimationName = 'headerslidedown';
      //make the pre-view dropdown fall into the background so it does not capture touch input

      document.getElementById("pxr4YkFPF-an-anim").style.zIndex = 0;
    }

    </script>